<!DOCTYPE html>
<html lang='en'>

<head>
  <meta charset='UTF-8'>
  <meta name='viewport' content='width=device-width, initial-scale=1.0'>
  <meta http-equiv='X-UA-Compatible' content='ie=edge'>
  <link href='https://cdn.bootcss.com/minireset.css/0.0.2/minireset.css' rel='stylesheet'>
  <title>Document</title>
  <style>
  </style>
</head>

<body>
  <div id="app">
    <div class="box" v-for="(item, index) in arr">
      <p v-if="item">我不相信这是真的key:{{index}} value:{{item}}</p>
    </div>

    <div class="btn" v-for="(item, index) in arr" @click="btnByIndex(index)">
      <button>直接改变数组值key:{{index}} value:{{item}}</button>
    </div>

    <div class="btn" v-for="(item, index) in arr" @click="btnBySet(index)">
      <button>调用$set改变数组值key:{{index}} value:{{item}}</button>
    </div>

    <div class="btn" @click="btnByLength()">
      <button>length改变数组长度为2</button>
    </div>

    <div class="btn" @click="btnBySplice()">
      <button>splice改变数组长度</button>
    </div>

  </div>
  <script src='https://cdn.bootcss.com/vue/2.6.10/vue.js'></script>
  <script>
    var vm = new Vue({
      el: '#app',
      data: {
        arr: [true, false, true, true, false, true]
      },
      methods: {
        // 无效，通过索引不能实现数据响应
        btnByIndex(i) {
          this.arr[i] = !this.arr[i]
          console.log('btnByIndex', this.arr);
        },
        // 有效，通过$set能实现数据响应
        btnBySet(i) {
          this.$set(this.arr, i, !this.arr[i])
          console.log('btnBySet', this.arr);
        },
        // 无效，通过length不能实现数据响应
        btnByLength() {
          this.arr.length = 2
          console.log('btnByLength', this.arr);
        },
        // 无效，通过splice可以实现数据响应
        btnBySplice() {
          this.arr.splice(2)
          console.log('btnBySplice', this.arr);
        }
      },
    })
  </script>
</body>

</html>